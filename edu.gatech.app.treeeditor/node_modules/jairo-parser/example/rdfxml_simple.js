
var jairo = require('../index.js');

var prefixesOfInterest = [
        { 'prefix' : 'rdf' , 'uri' : 'http://www.w3.org/1999/02/22-rdf-syntax-ns#' },
        { 'prefix' : 'dcterms' , 'uri' : 'http://purl.org/dc/terms/' },
        { 'prefix' : 'foaf' , 'uri' : 'http://xmlns.com/foaf/0.1/' }
    ];

var rdf =  
'<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" ' + 
' xmlns:dcterms="http://purl.org/dc/terms/" ' + 
' xmlns:foaf="http://xmlns.com/foaf/0.1/"> ' + 
' <rdf:Description rdf:about="http://example.org/123"> ' + 
'  <dcterms:creator> ' + 
'   <foaf:Person rdf:about="http://example.org/person45"> ' + 
'    <rdf:value>John Smith</rdf:value> ' + 
'    <foaf:phone rdf:resource="tel:+358-555-1234567"/> ' + 
'   </foaf:Person> ' + 
'  </dcterms:creator>  ' + 
' </rdf:Description> ' + 
'</rdf:RDF>';

jairo.parse( 'rdfxml' , rdf , prefixesOfInterest , function( parsedData ){
	console.log( parsedData );

	for (var i = 0; i < parsedData.triples.length; i++) {
		var triple = parsedData.triples[i];
		console.log('');
		console.log('subject_uri=' + triple.subject_uri);
		console.log('subject_qn=' + triple.subject_qn);
		console.log('predicate_uri=' + triple.predicate_uri);
		console.log('predicate_qn=' + triple.predicate_qn);
		console.log('object_uri=' + triple.object_uri);
		console.log('object_qn=' + triple.object_qn);
	};

	for (var prop in parsedData.prefixesParsed ) {
		console.log('prefix=' + prop + ' uri=' + parsedData.prefixesParsed[prop]);
    }

	for (var prop in parsedData.prefixesParsedStat ) {
		console.log('prefix=' + prop + ' count=' + parsedData.prefixesParsedStat[prop]);
    }

	jairo.printHumanReadbleResult( parsedData );
});

